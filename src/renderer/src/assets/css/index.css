@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind variants;

@layer base {
    /* 默认配色 */
    :root,
    .default {
        --color-base: theme('colors.transparent');
        --color-off-base: theme('colors.gray.100');
        /* --color-text-muted: theme('colors.gray.600'); */
        /* --color-text-muted-hover: theme('colors.gray.500'); */
        --color-text-base: theme('colors.black');
        --color-primary: theme('colors.black');
        --color-secondary: theme('colors.gray.500');
    }
    .dark.default {
        --color-primary: theme('colors.white');
        --color-secondary: theme('colors.gray.300');
    }




    .green {
        --color-base: #E8F5E9;
        --color-off-base: #C8E6C9;
        --color-text-base: #1B5E20;
        --color-primary: #1B5E20;
        --color-secondary: #388E3C;
    }
    .dark.green {
        --color-base: theme('colors.slate.900');
        --color-text-base: #E8F5E9;
        --color-primary: #C8E6C9;
        --color-secondary: #81C784;
    }





    .red {
        --color-base: #FFEBEE;
        --color-off-base: #FFCDD2;
        --color-text-base: #B71C1C;
        --color-primary: #B71C1C;
        --color-secondary: #D32F2F;
    }
    .dark.red {
        --color-base: theme('colors.slate.900');
        --color-text-base: #FFEBEE;
        --color-primary: #FFCDD2;
        --color-secondary: #E57373;
    }




    .blue {
        --color-base: #E3F2FD;
        --color-off-base: #BBDEFB;
        --color-text-base: #0D47A1;
        --color-primary: #0D47A1;
        --color-secondary: #1976D2;
    }
    .dark.blue {
        --color-base: theme('colors.slate.900');
        --color-text-base: #E3F2FD;
        --color-primary: #BBDEFB;
        --color-secondary: #64B5F6;
    }




    /* 深色模式只会修改必要的配色 */
    .dark {
        --color-base: theme('colors.slate.900');
        --color-off-base: theme('colors.gray.800');
        --color-text-base: theme('colors.white');
    }
}

@layer components {
    /* 全局聚焦环 */
    * {
        @apply ring-black/50 dark:ring-white/50;
    }
    /* 不显示滚动条 */
    ::-webkit-scrollbar {
        @apply hidden;
    }

    .background {
        background-color: var(--md-sys-color-background);
    }
    .surfaceContainer {
        background-color: var(--md-sys-color-surface-container);
    }
    .surface {
        @apply relative;
        transition-duration: 250ms;
        transition-timing-function: ease-in-out;
        /* background-color: var(--md-sys-color-surface); */
    }
    .surface:hover {
        --md-elevation-level: 2;
    }
    .surface:active {
        --md-elevation-level: 0;
    }

    .focus {
        @apply relative;
        --md-focus-ring-shape: 1.5rem;
    }


    /* nav位于顶层30 */
    nav,
    nav * {
        @apply z-30;
    }
    nav .fab {
        @apply fixed right-5 bottom-24 lg:bottom-5 z-40;
    }
    nav .fab * {
        @apply z-40;
    }
    nav .navigation {
        @apply fixed right-0 bottom-0 w-full lg:bottom-5 z-30;
    }
    nav .navigation div {
        @apply lg:rounded-3xl lg:mx-auto lg:max-w-lg lg:overflow-clip shadow-md;
    }

    
    #root > div > main.main {
        @apply w-full md:max-w-md lg:max-w-lg xl:max-w-3xl 2xl:max-w-4xl mx-auto min-h-screen mt-[3rem];
    }

    .page {
        @apply px-4 -mt-10;
    }


    /* label默认针对checkbox、radio、switch组件 */
    label {
        @apply flex flex-row items-center justify-between gap-2;
    }

    /* h1 ~ h6的字体宽度 */
    h1 {
        @apply font-bold;
    }
    h2,
    h3 {
        @apply font-bold;
    }
    p {
        @apply font-normal;
    }
    /* 字体颜色 */
    h1,
    h2,
    h3,
    p,
    b,
    i,
    mark {
        @apply text-base;
    }
    mark {
        @apply bg-green-200 text-black px-2;
    }


    /* md-dialog窗口下的h1标题字体大小 */
    md-dialog h1 {
        @apply text-2xl;
    }
    md-dialog h1 + p {
        @apply text-xl;
    }
    
    
    header > h1 {
        @apply text-2xl;
    }
    header > p {
        @apply text-secondary;
    }


    .topBar {
        @apply z-40 border-b dark:border-none flex flex-col items-center justify-start bg-transparent;
        transition: none;
    }
    header.topBar {
        @apply fixed top-0 right-0 w-screen max-h-16 backdrop-blur-lg;
    }
    header.topBar input {
        @apply max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl w-full outline-none rounded-lg focus:ring pl-4 py-2;
        background-color: var(--md-sys-color-surface-container);
    }


    ul.list {
        @apply flex flex-row gap-2 flex-wrap;
    }
    ul.list > li {
        @apply rounded-md p-4 relative bg-off-base bg-white dark:bg-black/50;
    }
    ul.list > li .list-inner-page {
        @apply z-30 w-64 bg-white dark:bg-slate-700 text-base hidden px-4 py-2 absolute left-4 shadow rounded-md;
    }
    ul.list > li .list-inner-page:hover,
    ul.list > li:hover .list-inner-page {
        @apply block;
    }



    ul.group {
        @apply flex flex-wrap gap-4;
    }
    ul.group li {
        @apply border bg-white dark:bg-black/50 dark:border-none hover:shadow-md rounded-md p-4 flex flex-col justify-center items-center;
    }


    .setting .item {
        @apply hidden;
    }
    .setting:active .item,
    .setting .item:hover {
        @apply block;
    }
    .setting .item li {
        @apply space-y-2;
    }
    .setting .item li label h1 {
        @apply font-bold text-base;
    }


    div.page > .innerPage,
    div.pageToggle ~ .innerPage {
        @apply hidden;
    }
    div.pageToggle:active {
        @apply opacity-0;
    }
    div.page:active > .innerPage,
    div.pageToggle:active ~ .innerPage {
        @apply block;
    }


    div.fixedWindow {
        @apply fixed z-50;
    }
    div.fixedWindow.fullScreen {
        @apply w-full h-full min-h-screen top-0 right-0;
    }
    div.fixedWindow.fullScreen.withBackButton > nav{
        @apply mb-8;
    }
    div.fixedWindow nav.backButton {
        @apply relative w-full border-b py-2;
    }



    div.eventsSurface {
        @apply fixed bottom-24 lg:bottom-5 left-4 w-1/2 md:w-52 xl:w-96;
    }
    div.eventsSurface > ul.events {
        @apply flex flex-col w-full gap-2;
    }
    div.event {
        @apply opacity-0 px-4 py-2 rounded-md shadow flex flex-row items-center justify-between bg-black dark:bg-white;
        animation: 5s eventAnimation;
    }
    div.event > h1 {
        @apply text-white dark:text-black;
    }

    @keyframes eventAnimation {
        from {
            @apply opacity-0 block;
        } 20% {
            @apply opacity-100;
        } 80% {
            @apply opacity-100;
        } to {
            @apply opacity-0;
        }
    }





    div.sidebar > ul {
        @apply flex flex-col gap-4;
    }
    div.sidebar > ul > li {
        @apply rounded-xl space-y-2 px-4 py-2 bg-gradient-to-br from-blue-50/25 to-blue-100/75 dark:to-blue-800/25;
    }
    div.sidebar > ul > li > header > h1 {
        @apply font-medium text-base;
    }
    div.sidebar > ul > li > header > h1 + p {
        @apply font-normal text-sm italic;
    }
    div.sidebar > ul > li > footer.action {
        @apply flex items-center justify-end;
    }




    .goalDescription {
        @apply rounded-3xl relative bg-white;
    }
    .goalDescription div img {
        @apply w-64 h-48 rounded-3xl;
    }
    .goalDescription h1 {
        @apply text-2xl font-bold;
    }
    .goalDescription div.action {
        @apply flex flex-row justify-end;
    }
    







    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    input,
    ul li,
    .fab,
    .navigation,
    .eventsSurface,
    .events,
    .event {
        transition: all .15s;
    }
}

